<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="La biblia de las ofertas">
    <meta name="keywords" content="brasier, ropa íntima, aCoupon, ropa mujer">
    <link rel="canonical" href="http://www.tusitioweb.com/productos/clavel">
    <title>Pijama Tierna | aCoupon</title>
    <link rel="stylesheet" href="/css/product.css">
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="/js/product.js" defer></script>
</head>
<body>
    <header>
        <div class="header-left">
            <a href="#" onclick="window.history.back(); return false;">
                <i class="fas fa-arrow-left" style="font-size:24px; color: #c71585;"></i> <!-- Ajusta el tamaño según necesidad -->
            </a>
        </div>
        <!-- Aquí podrías incluir un menú de navegación y/o enlaces a otras secciones si es necesario -->
    </header>
    <main>
        <div class="name-zone">
            <h1>Pijama Tierna</h1>
        </div>

        <div class="image-scroll-container-indi">
            <div class="image-scroll" data-color="azul">
                <img src="/products/B9/1.webp" alt="Imagen 1">
            </div>

            <div class="image-scroll" data-color="rosado">
                <img src="/products/B9/2.webp" alt="Imagen 1">
            </div>

            <div class="image-scroll" data-color="blanco">
                <img src="/products/B9/3.webp" alt="Imagen 1">
            </div>
        </div>
        
        <div class="selection-area-indi">
            <div class="size-selection">
                <div class="options">
                    <div class="option" data-size="S">S</div>
                    <div class="option" data-size="M">M</div>
                    <div class="option" data-size="L">L</div>
                </div>
            </div>
        
            <div class="color-selection">
                <div class="options">
                    <div class="color-option" data-color="azul" style="background-color: skyblue;"></div>
                    <div class="color-option" data-color="rosado" style="background-color: pink;"></div>
                    <div class="color-option" data-color="blanco" style="background-color: white;"></div>
                </div>
            </div>
        </div>

        <div class="price-area">
            <p class="dollar">$</p>
            <p class="final-price">55.800</p>
        </div>

        <div class="info-area">
            <div class="scroll-container">
                <div class="item">
                    <p class="material">VELVETIN</p>
                </div>

            </div>
            <div class="separador"></div>


            <p class="tabla-title">Guía de tallas</p>
            <img src="/assets/info/tablas/tabla-tres.png" class="tabla" alt="Descripción de la imagen 1">


            <div class="separador-dos"></div>
            
            <p class="commentary-title">Comentarios & Opiniones</p>
            <div class="no-commentary">
                Sin comentarios por el momento
            </div>
        </div>

        <div class="purchase-bar-limited">
            <div class="quantity-controls">
                <button class="quantity-button" id="decrease-quantity">-</button>
                <span id="quantity">1</span>
                <button class="quantity-button" id="increase-quantity">+</button>
            </div>
            <button class="purchase-button">Añadir al carrito</button>
        </div>

        <div id="imageModal" class="modal-background">
            <span class="nav-button left" onclick="moveSlide(-1)">&#10094;</span>
            <img class="fullscreen-image" src="" alt="Fullscreen Image">
            <span class="nav-button right" onclick="moveSlide(1)">&#10095;</span>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const images = document.querySelectorAll('.image-scroll-container-indi img');
                const modal = document.getElementById('imageModal');
                const modalImage = document.querySelector('.fullscreen-image');
                let currentIndex = 0; // Índice de la imagen actualmente mostrada

                images.forEach((image, index) => {
                    image.addEventListener('click', function () {
                        currentIndex = index; // Actualiza el índice actual
                        modalImage.src = this.src; // Establece el src para la imagen en la modal
                        modal.style.display = 'block'; // Muestra la modal
                    });
                });

                modal.addEventListener('click', function (e) {
                    if (e.target.classList.contains('modal-background')) {
                        modal.style.display = 'none'; // Oculta la modal al hacer clic fuera de la imagen
                    }
                });

                window.moveSlide = function (direction) {
                    currentIndex += direction; // Actualiza el índice basado en la dirección
                    if (currentIndex >= images.length) {
                        currentIndex = 0; // Vuelve al inicio si supera el número de imágenes
                    } else if (currentIndex < 0) {
                        currentIndex = images.length - 1; // Vuelve al final si el índice es negativo
                    }
                    modalImage.src = images[currentIndex].src; // Cambia la imagen
                };
                const purchaseButton = document.querySelector('.purchase-button');
                const quantityElement = document.getElementById('quantity');
                const increaseQuantityButton = document.getElementById('increase-quantity');
                const decreaseQuantityButton = document.getElementById('decrease-quantity');

                increaseQuantityButton.addEventListener('click', function() {
                    quantityElement.textContent = parseInt(quantityElement.textContent) + 1;
                    increaseQuantityButton.classList.add('button-active');
                    setTimeout(() => {
                        increaseQuantityButton.classList.remove('button-active');
                    }, 100);
                });

                decreaseQuantityButton.addEventListener('click', function() {
                    const currentQuantity = parseInt(quantityElement.textContent);
                    if (currentQuantity > 1) {
                        quantityElement.textContent = currentQuantity - 1;
                        decreaseQuantityButton.classList.add('button-active');
                        setTimeout(() => {
                            decreaseQuantityButton.classList.remove('button-active');
                        }, 100);
                    }
                });

                purchaseButton.addEventListener('click', function() {
                    const selectedBraSize = document.querySelector('.size-selection:nth-child(1) .option.selected');
                    const selectedColorOption = document.querySelector('.color-option.selected');
                    const quantity = parseInt(quantityElement.textContent);
            
                    if (!selectedBraSize || !selectedColorOption) {
                        alert('Por favor, selecciona las tallas y el color antes de añadir al carrito.');
                        return;
                    }
            
                    const newProduct = {
                        name: "Pijama Tierna",
                        price: 55800,
                        color: selectedColorOption.getAttribute('data-color'),
                        size: {
                            bra: selectedBraSize.getAttribute('data-size'),
                            panties: '0'
                        },
                        quantity: quantity
                    };
            
                    let cart = JSON.parse(localStorage.getItem('cart')) || [];
                    cart.push(newProduct);
                    localStorage.setItem('cart', JSON.stringify(cart));
                    window.location.href = '/cart.html'; // Asegúrate de que esta ruta sea accesible según tu configuración del servidor
                });
            });
        </script>
        
    </main>
    <footer>
        <!-- Aquí podrías incluir información de contacto, enlaces a redes sociales, etc. -->
    </footer>
</body>
</html>
